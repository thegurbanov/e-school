<div class="bg-card p-3">
  <ul class="nav nav-tabs tabs">
    <ng-container *ngFor="let nav of navs">
      <li (click)="selectedClass.id ? '': changeTab(nav)" class="nav-item">
        <a (click)="selectBina(nav.binaId)" class="nav-link active" [ngClass]="{ active: nav.status }">{{
          nav.title
          }}</a>
      </li>
    </ng-container>
  </ul>
</div>
<div *ngIf="selectedNav?.id <= blockscount" class="col-lg-12">
  <div class="table-responsive mt-2">
    <table class="table table-bordered mb-0">
      <thead class="text-center">
      <colgroup span="2"></colgroup>
      <colgroup span="2"></colgroup>
      <tr>
        <th rowspan="2" scope="col" class="col-1">Giriş</th>
        <th rowspan="2" scope="col" class="col-1">Mərtəbə</th>
        <th rowspan="2" scope="col" class="col-1">Mənzil nömrəsi</th>
        <th rowspan="2" scope="col" class="col-1">Sahəsi kv m<sup>2</sup></th>
        <th rowspan="2" scope="col" class="col-1">Otaq sayı</th>
        <th rowspan="2" scope="col" class="col-2">Mənzil sahibi</th>
        <th scope="col" colspan="2" scope="colgroup" class="col-2 fixed-top">Satış</th>
        <th scope="col" colspan="3" scope="colgroup" class="col-2 fixed-top">Endirim</th>
        <th rowspan="2" scope="col" class="col-1">Satış</th>
        <th rowspan="2" scope="col" class="col-1">Kommunal</th>
      </tr>
      <tr>
        <th scope="col" class="col-1 fixed-top custom-fixed-top" rowspan="2">1 kv/m<sup>2</sup> qiyməti</th>
        <th scope="col" class="col-1 fixed-top custom-fixed-top">Toplam qiymət</th>
        <th scope="col" class="col-1 fixed-top custom-fixed-top">Endirim (%)</th>
        <th scope="col" class="col-1 fixed-top custom-fixed-top">1 kv/m<sup>2</sup></th>
        <th scope="col" rowspan="2" class="col-1 fixed-top custom-fixed-top">Toplam qiymət</th>
      </tr>
      </thead>
      <tbody *ngFor="let block of data; let i = index" class="text-left">
      <tr>
        <th colspan="14">Giriş  {{block.block.nomre}}</th>
      </tr>
      <ng-container *ngFor="let dat of block.floorList let i=index">
        <tr>
          <th></th>
          <th colspan="13"> Mərtəbə {{dat.floor.mertebeNomresi}}</th>
        </tr>
        <ng-container *ngFor="let dat of block.floorList[i].flatList">
          <tr style="text-align: right">
            <td colspan="2"></td>
            <td scope="row"><b>Mənzil № {{dat.menzilNomre}}</b></td>
            <td>{{dat.sahe}}</td>
            <td>{{dat.otaqSay}}</td>
            <td style="text-align: left">Sirket</td>
            <td>{{dat.discountTotalPercent}}</td>
            <td>{{dat.discountTotal}}</td>
            <td>0</td>
            <td>0</td>
            <td>{{dat.total}}</td>
            <td style="text-align: center">
              <button class="btn btn-primary btn-rounded ms-2"
                      routerLink="/accounting/create-contract/category/construction/contractType/APARTMENT_SALE/predimet/{{dat.id}}">
                <i class="bx bx-arrow-from-left"></i>
              </button>
            </td>
            <td style="text-align: center">
              <button class="btn btn-primary btn-rounded ms-2"
                      routerLink="/accounting/create-contract/category/construction/contractType/APARTMENT_COMMUNAL/predimet/{{dat.id}}">
                <i class="bx bx-right-arrow"></i>
              </button>
            </td>
          </tr>
        </ng-container>
      </ng-container>
      </tbody>
    </table>
  </div>
</div>
